<mvc:View 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.f" 
	xmlns:m="sap.m"
	xmlns:core="sap.ui.core"
	displayBlock="true" 
	controllerName="plants.tagger.ui.controller.FlexibleColumnLayout" 
	height="100%">

	<ShellBar 
		title="{i18n>shellBarTitle}" 
		secondTitle="{i18n>shellBarSubTitle}"
		homeIcon="./css/aloe-vera.png" 
		showCopilot="false"
		showSearch="false" 
		showNotifications="true" 
		notificationsPressed="onShellBarNotificationsPressed"
		showProductSwitcher="false" 
		showMenuButton="true"
		menuButtonPressed="onShellBarMenuButtonPressed"
		notificationsNumber="{ path: 'messages>/',
							   formatter: '.formatter.messageCount' }">
		
		<!--bad problems with...-->
		<!--notificationsNumber="{= ${messages>/}.length }">-->  
		
		<searchManager>
			<SearchManager
				search="onShellBarSearch"
				enableSuggestions="false">
				
				<suggestionItems>
					<m:SuggestionItem
						key="none"
						text="none"
						icon="none"
						description="none"/>
				</suggestionItems>
			</SearchManager>
		</searchManager>
		
		<additionalContent>
				<m:ToolbarSpacer/> 
				<m:Button
					text="{i18n>save}"
					icon="sap-icon://save"
					tooltip="{i18n>save_tooltip}"
					type="Transparent"
					visible="true"
					press="onPressButtonSave"/>
				<m:Button 
					text="{i18n>reload}"
					icon="sap-icon://undo"
					tooltip="{i18n>reload_tooltip}"
					type="Transparent"
					visible="true"
					press="onPressButtonRefreshData"/>
				<m:Button
					text="{i18n>upload_photo}"
					icon="sap-icon://add-photo"
					tooltip="{i18n>upload_photo_tooltip}"
					type="Transparent" 
					visible="true"
					press="onOpenFragmentUploadPhotos"/>
				<m:Button
					text="{i18n>untagged}"
					icon="sap-icon://blank-tag-2"
					tooltip="{i18n>untagged_tooltip}"
					type="Transparent"
					enabled="{ parts: ['/columnsVisibility/midColumn',
									   '/columnsVisibility/endColumn'],
							   formatter: '.formatter.btnEnabledUntagged'}"
					press="onShowUntagged"/>
		</additionalContent>
		
					<!--visible="{= ${/columnsVisibility/midColumn} }"-->
		
	</ShellBar>

	<FlexibleColumnLayout 
		id="idFlexibleColumnLayout" 
		stateChange="onStateChanged"	
		layout="{/layout}" 
		backgroundDesign="Solid">
		
	</FlexibleColumnLayout>

</mvc:View>