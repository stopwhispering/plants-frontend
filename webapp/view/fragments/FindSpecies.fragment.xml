<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified">
 
    <Dialog title = "Find Species"
    	id="dialogFindSpecies"
    	contentWidth="80em">
 
	    <content>
	    	<VBox
				class="sapUiSmallMargin">
	    		
		    	<Label
		    		text="Species or genus name (feature still in development)"/>
		    	<HBox
		    		class="sapUiSmallMarginBottom">
			    	<Input
			    		maxLength="40"
			    		width="15em"
			    		autocomplete="true" 
			    		submit="onButtonFindSpecies"
			    		id="inputFindSpecies"
			    		class="sapUiTinyMarginEnd"/>
			    	<Button
			    		text="Retrieve species"
			    		press="onButtonFindSpecies"/>
		    	</HBox>
	    		<Table id="tableFindSpeciesResults"
					inset="false"
					selectionChange="onFindSpeciesAdditionalNameLiveChange"
					mode="SingleSelectLeft"
					items="{
						path: 'kewSearchResults>/ResultsCollection'
						}"
					>	
					<columns>
						<Column
							width="10em">
							<Text text="Name &amp; Source/fqId" />
						</Column>
						<Column
							width="8em">
							<Text
								text="Genus &amp; Species" />
						</Column>
						<Column
							width="8em">
							<Text 
								text="Family &amp; Phylum"/>
						</Column>
						<Column
							minScreenWidth="Tablet"
							demandPopin="true"
							width="6em">
							<Text 
								text="Authors &amp; Publ. Year" />
						</Column>
						<Column
							minScreenWidth="Tablet"
							demandPopin="true"
							width="16em">
							<Text 
								text="Synonyms" />
						</Column>
						<Column
							minScreenWidth="Tablet"
							demandPopin="true"
							width="16em">
							<Text 
								text="Distribution" />
						</Column>
					</columns>
					
					<items>
						<ColumnListItem>
							<cells>
								<ObjectIdentifier
									title="{kewSearchResults>name}"
									text="{kewSearchResults>source} ({kewSearchResults>fqId})"/>
								<ObjectIdentifier
									title="{kewSearchResults>genus}"
									text="{kewSearchResults>species}"/>
								<ObjectIdentifier
									title="{kewSearchResults>family}"
									text="{kewSearchResults>phylum}"/>
								<ObjectIdentifier
									title="{kewSearchResults>authors}"
									text="{kewSearchResults>namePublishedInYear}"/>
								<Text
									text="{kewSearchResults>synonyms_concat}"/>
								<Text
									text="{kewSearchResults>distribution_concat}"/>
							</cells>
						</ColumnListItem>
					</items>		
				</Table>
				
		    	<Label
		    		text="{i18n>label_additional_species_name}"
		    		labelFor='inputFindSpeciesAdditionalName'
		    		class="sapUiSmallMarginTop"/>
		    	<HBox
		    		class="sapUiSmallMargin">
		    		
			    	<Input
			    		maxLength="40"
			    		width="15em"
			    		autocomplete="true" 
			    		liveChange="onFindSpeciesAdditionalNameLiveChange"
			    		id="inputFindSpeciesAdditionalName"
		    			class="sapUiSmallMarginEnd"/>
			    		
		    		<Label
			    		text="Final name"
			    		labelFor='textFindSpeciesAdditionalName'
		    			class="sapUiTinyMarginEnd"/>
			    	
			    	<GenericTag
			    		id="textFindSpeciesAdditionalName"
			    		design="StatusIconHidden" 
			    		status="Success"
			    		valueState="None"/>
	    		</HBox>
	    		
			</VBox>
	    </content>
	    
	    <beginButton>
		    <Button
	    		text="Choose"
            	press="onFindSpeciesChoose"/>
	    </beginButton>
	    
	    <endButton>
		    <Button
	    		text="Cancel"
            	press="onFindSpeciesCancelButton"/>
	    </endButton>
    </Dialog>
</core:FragmentDefinition>