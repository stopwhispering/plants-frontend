<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:m="sap.m"
	xmlns:f="sap.f"
	xmlns:card="sap.f.cards"
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	xmlns:custom="plants.tagger.ui.control">

	<ScrollContainer height="100%" width="100%" vertical="true">
		<f:GridContainer 
			id="gridInfo" 
			class="sapUiSmallMarginBottom"
			snapToRow="false"
			inlineBlockLayout="true">
			
			<f:layout>
				<f:GridContainerSettings
					gap="10px"/>
			</f:layout>

			<f:items>
				<f:Card
					class="sapUiTinyMargin"
					width="250px">
					<f:header>
						<card:Header title="Information"/>
					</f:header>
					<f:content>
						<List showSeparators="All">
							<items>
								
								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>Id}" class="sapUiTinyMarginBegin"/>
										<Text
											textAlign="End"
											class="sapUiTinyMargin"
											text="{plants>id}"
											/>
									</HBox>
								</CustomListItem>								

								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>active}" class="sapUiTinyMarginBegin"/>
										<m:Switch 
											enabled='{status>/details_editable}'
											type="AcceptReject" 
											state="{plants>active}">
										</m:Switch>
									</HBox>
								</CustomListItem>
								
								<CustomListItem>
									<HBox
										alignItems="Center" 
										justifyContent="SpaceBetween"
										wrap="Wrap">
										
										<Label text="Botanical Name" class="sapUiTinyMarginBegin"/>

										<Text
											textAlign="End"
											class="sapUiTinyMargin"
											text="{plants>botanical_name}"
											/>
											
										<Button 
											icon="sap-icon://sys-find"
											tooltip="Find botanical name"
											type="Transparent"
											press="onOpenFindSpeciesDialog"
											visible="{status>/details_editable}"/>
										
									</HBox>
								</CustomListItem>										
								
								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>count}" class="sapUiTinyMarginBegin"/>
										<Input 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>count}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>count}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>							
								
							</items>
						</List>
					</f:content>
					<f:layoutData>
						<f:GridContainerItemLayoutData 
							columns="3" />
					</f:layoutData>
				</f:Card>			
		
				<f:Card
					class="sapUiTinyMargin"
					width="250px">
					<f:header>
						<card:Header
							title="Origin"/>
					</f:header>
					<f:content>
						<List showSeparators="All">
							<items>
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>field_number}" class="sapUiTinyMarginBegin"/>
										<custom:InputWithIcon 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>field_number}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>field_number}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>geographic_origin}" class="sapUiTinyMarginBegin"/>
										<custom:InputWithIcon 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>geographic_origin}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>geographic_origin}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>nursery_source}" class="sapUiTinyMarginBegin"/>
										<custom:InputWithIcon
											id="inputNursery"
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>nursery_source}"
											visible="{status>/details_editable}"
											
											showSuggestion="true"
											showValueHelp="false"
											suggest="onSuggestNursery"
											startSuggestion="0"
    										suggestionItems="{nurseries_sources>/NurseriesSourcesCollection}"
											valueHelpOnly="true">										
											<custom:suggestionItems>
												<core:Item key="{nurseries_sources>name}" text="{nurseries_sources>name}" />
											</custom:suggestionItems>
										</custom:InputWithIcon>
										
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>nursery_source}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>propagation_type}" class="sapUiTinyMarginBegin"/>
										
										<ComboBox
											class="sapUiTinyMargin"
											width="130px"
											selectedKey="{plants>propagation_type}"
											visible="{status>/details_editable}">
											<core:Item key="acquired as plant" text="acquired as plant" />
											<core:Item key="bulbil" text="bulbil" />
											<core:Item key="leaf cutting" text="leaf cutting" />
											<core:Item key="offset" text="offset" />
											<core:Item key="seed (collected)" text="seed (collected)" />
											<core:Item key="seed (purchased)" text="seed (purchased)" />
											<core:Item key="unknown" text="unknown" />
											<core:Item key="" text="" />
										</ComboBox>									
										
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>propagation_type}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>								
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>origin}" class="sapUiTinyMarginBegin"/>
										<Input 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>generation_origin}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>generation_origin}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>mother_plant}" class="sapUiTinyMarginBegin"/>
										
										<m:Input
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>mother_plant}" 
											visible="{status>/details_editable}"
											showSuggestion="true"
											maxSuggestionWidth="450px"
											showTableSuggestionValueHelp="false"
											suggestionRows="{plants>/PlantsCollection}">
											
											<m:suggestionColumns>
												<m:Column
													hAlign="Begin"
													popinDisplay="Inline"
													demandPopin="true">
													<m:Label text="{i18n>name}"/>
												</m:Column>
												<m:Column
													hAlign="Center"
													popinDisplay="Inline"
													demandPopin="true"
													minScreenWidth="Tablet">
													<m:Label text="{i18n>species}"/>
												</m:Column>
												<m:Column
													hAlign="End"
													popinDisplay="Inline"
													demandPopin="true">
													<m:Label text="{i18n>origin}"/>
												</m:Column>
											</m:suggestionColumns>
											
											<m:suggestionRows>
												<m:ColumnListItem>
													<m:cells>
														<m:Label text="{plants>plant_name}"/>
														<m:Label text="{plants>botanical_name}"/>
														<m:Label text="{plants>generation_origin}"/>
													</m:cells>
												</m:ColumnListItem>
											</m:suggestionRows>
										</m:Input>									
										
										<Link
											wrapping="true"
											class="sapUiTinyMargin"
											text="{plants>mother_plant}"
											visible="{= !${status>/details_editable} }"
											press="onMotherPlantPress(${plants>mother_plant})"/>										
	
									</HBox>
								</CustomListItem>								
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>origin_misc}" class="sapUiTinyMarginBegin"/>
	
										<TextArea
											class="sapUiTinyMargin"
											rows="3"
											width="130px"
											editable="true"
											enabled="true"
											textAlign="Begin"
											value="{plants>generation_notes}"
											visible="{status>/details_editable}"/>										
										<Text
											textAlign="End"
											class="sapUiTinyMargin"
											text="{plants>generation_notes}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>								
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>origin_date}" class="sapUiTinyMarginBegin"/>
										<Input 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>generation_date}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>generation_date}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>							
								
							</items>
						</List>
					</f:content>
					<f:layoutData>
						<f:GridContainerItemLayoutData
							columns="3" />
					</f:layoutData>
				</f:Card>	
				
				<f:Card
					class="sapUiTinyMargin"
					width="250px">
					<f:header>
						<card:Header title="Notes"/>
					</f:header>
					<f:content>
						<VBox>
						<TextArea
							class="sapUiTinyMargin"
							rows="4"
							width="230px"
							editable="true"
							enabled="true"
							textAlign="Begin"
							value="{plants>plant_notes}"
							visible="{status>/details_editable}"/>
						<Text	
							class="sapUiTinyMargin"
							textAlign="Begin"
							text="{plants>plant_notes}"
							visible="{= !${status>/details_editable} }"/>
						</VBox>
					</f:content>
					<f:layoutData>
						<f:GridContainerItemLayoutData columns="3" />
					</f:layoutData>				
				</f:Card>	
	
			</f:items>
		</f:GridContainer>
	</ScrollContainer>
</core:FragmentDefinition>