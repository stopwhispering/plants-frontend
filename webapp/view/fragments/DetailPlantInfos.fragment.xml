<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:m="sap.m"
	xmlns:f="sap.f"
	xmlns:card="sap.f.cards"
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core">


	<ScrollContainer height="100%" width="100%" vertical="true">
		<f:GridContainer 
			id="gridInfo" 
			class="sapUiSmallMarginBottom"
			snapToRow="false"
			inlineBlockLayout="true">
			
<!--columns="default - as many as fits"-->
<!--columnSize="80px"-->
<!--rowSize="80px"-->
			<f:layout>
				<f:GridContainerSettings
					gap="10px"/>
			</f:layout>

			<f:items>
				<f:Card
					class="sapUiTinyMargin"
					width="250px">
					<f:header>
						<card:Header title="Information"/>
					</f:header>
					<f:content>
						<List showSeparators="All">
							<items>
								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>active}" class="sapUiTinyMarginBegin"/>
										<m:Switch 
											enabled='{status>/details_editable}'
											type="AcceptReject" 
											state="{plants>active}">
										</m:Switch>
									</HBox>
								</CustomListItem>
								
								<!--todo: remove species(taxon remains)-->
								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>species}" class="sapUiTinyMarginBegin"/>
										
										<Input
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>species}" 
											visible="{status>/details_editable}"
											showSuggestion="true"
											maxSuggestionWidth="550px"
											showTableSuggestionValueHelp="false"
											suggestionRows="{species>/SpeciesCollection}">
											
											<suggestionColumns>
												<m:Column
													hAlign="Begin"
													popinDisplay="Inline"
													demandPopin="true">
													<m:Label text="Species"/>
												</m:Column>
												<m:Column
													hAlign="Center"
													popinDisplay="Inline"
													demandPopin="true">
													<m:Label text="Genus"/>
												</m:Column>
												<m:Column
													hAlign="End"
													popinDisplay="Inline"
													demandPopin="true"
													minScreenWidth="Tablet">
													<m:Label text="Familia"/>
												</m:Column>
											</suggestionColumns>
											
											<suggestionRows>
												<m:ColumnListItem>
													<m:cells>
														<m:Label text="{species>species}"/>
														<m:Label text="{species>genus}"/>
														<m:Label text="{species>familia}"/>
													</m:cells>
												</m:ColumnListItem>
											</suggestionRows>
										</Input>
										
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>species}"
											state= "{
												path: 'plants>botany',
												formatter: '.formatter.stateByBotany'
												}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>							
								
								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="Botanical Name" class="sapUiTinyMarginBegin"/>

										<Text
											textAlign="End"
											class="sapUiTinyMargin"
											text="{plants>taxon}"
											/>
										<!--visible="{= !${status>/details_editable} }"-->
										
										<!--<ObjectStatus-->
										<!--	class="sapUiTinyMargin"-->
										<!--	text="{plants>taxon}"-->
										<!--	state= "Information"-->
										<!--	visible="{= !${status>/details_editable} }"/>-->
											
										<Button 
											icon="sap-icon://sys-find"
											tooltip="Find botanical name"
											type="Transparent"
											press="onOpenFindSpeciesDialog"
											visible="{status>/details_editable}"/>
										
									</HBox>
								</CustomListItem>										
								
								<CustomListItem>
									<HBox
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>count}" class="sapUiTinyMarginBegin"/>
										<Input 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>count}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>count}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>							
								
							</items>
						</List>
					</f:content>
					<f:layoutData>
						<f:GridContainerItemLayoutData 
							columns="3" />
					</f:layoutData>
				</f:Card>			
		
				<f:Card
					class="sapUiTinyMargin"
					width="250px">
					<f:header>
						<card:Header
							title="Origin"/>
					</f:header>
					<f:content>
						<List showSeparators="All">
							<items>
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>origin}" class="sapUiTinyMarginBegin"/>
										<Input 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>generation_origin}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>generation_origin}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>mother_plant}" class="sapUiTinyMarginBegin"/>
										
										<m:Input
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>mother_plant}" 
											visible="{status>/details_editable}"
											showSuggestion="true"
											maxSuggestionWidth="450px"
											showTableSuggestionValueHelp="false"
											suggestionRows="{plants>/PlantsCollection}">
											
											<m:suggestionColumns>
												<m:Column
													hAlign="Begin"
													popinDisplay="Inline"
													demandPopin="true">
													<m:Label text="{i18n>name}"/>
												</m:Column>
												<m:Column
													hAlign="Center"
													popinDisplay="Inline"
													demandPopin="true"
													minScreenWidth="Tablet">
													<m:Label text="{i18n>species}"/>
												</m:Column>
												<m:Column
													hAlign="End"
													popinDisplay="Inline"
													demandPopin="true">
													<m:Label text="{i18n>origin}"/>
												</m:Column>
											</m:suggestionColumns>
											
											<m:suggestionRows>
												<m:ColumnListItem>
													<m:cells>
														<m:Label text="{plants>plant_name}"/>
														<m:Label text="{plants>species}"/>
														<m:Label text="{plants>generation_origin}"/>
													</m:cells>
												</m:ColumnListItem>
											</m:suggestionRows>
										</m:Input>									
										
										<Link
											class="sapUiTinyMargin"
											text="{plants>mother_plant}"
											visible="{= !${status>/details_editable} }"
											press="onMotherPlantPress(${plants>mother_plant})"/>										
	
									</HBox>
								</CustomListItem>								
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>origin_misc}" class="sapUiTinyMarginBegin"/>
	
										<TextArea
											class="sapUiTinyMargin"
											rows="3"
											width="130px"
											editable="true"
											enabled="true"
											textAlign="Begin"
											value="{plants>generation_notes}"
											visible="{status>/details_editable}"/>										
										<Text
											textAlign="End"
											class="sapUiTinyMargin"
											text="{plants>generation_notes}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>								
								
								<CustomListItem>
									<HBox  
										alignItems="Center" justifyContent="SpaceBetween">
										<Label text="{i18n>origin_date}" class="sapUiTinyMarginBegin"/>
										<Input 
											width="130px"
											class="sapUiTinyMargin"
											value="{plants>generation_date}" 
											visible="{status>/details_editable}"/> 
										<ObjectStatus
											class="sapUiTinyMargin"
											text="{plants>generation_date}"
											visible="{= !${status>/details_editable} }"/>
									</HBox>
								</CustomListItem>							
								
							</items>
						</List>
					</f:content>
					<f:layoutData>
						<f:GridContainerItemLayoutData
							columns="3" />
					</f:layoutData>
				</f:Card>	
				
				<f:Card
					class="sapUiTinyMargin"
					width="250px">
					<f:header>
						<card:Header title="Notes"/>
					</f:header>
					<f:content>
						<VBox>
						<TextArea
							class="sapUiTinyMargin"
							rows="4"
							width="230px"
							editable="true"
							enabled="true"
							textAlign="Begin"
							value="{plants>plant_notes}"
							visible="{status>/details_editable}"/>
						<Text	
							class="sapUiTinyMargin"
							textAlign="Begin"
							text="{plants>plant_notes}"
							visible="{= !${status>/details_editable} }"/>
						</VBox>
					</f:content>
					<f:layoutData>
						<f:GridContainerItemLayoutData columns="3" />
					</f:layoutData>				
				</f:Card>	
	
			</f:items>
		</f:GridContainer>
	</ScrollContainer>
</core:FragmentDefinition>